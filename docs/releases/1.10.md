# 1.10 Release Notes

Release date: May 2020

> [!CAUTION]
> **This release is out of support and won't receive any new features or bug fixes.** Consider upgrading to the latest stable or preview release as soon as possible. Note that supported (stable and preview) releases are not published on Unity's Asset Store; [register your license](https://naninovel.com/register) to access them.

## Compatibility

Minimum supported Unity version: `2019.4` Previous versions are not supported; any issues with newer versions will be addressed in the next releases or patches. Recommended version: [Latest `2019.4` LTS release](https://unity3d.com/unity/qa/lts-releases?version=2019.4).

## Upgrade Guide

When importing the package to a project with Naninovel version `1.9.7-beta` or older first follow [v1.9.8 release](https://github.com/naninovel/docs/releases/tag/v1.9.8-beta) upgrade guide, then continue with the following instructions:

1. Remove `Naninovel` folder from the project before importing the updated package.
2. In case you're using extension packages, update them using following links:
    - [NaninovelPlayMaker](https://github.com/Elringus/NaninovelPlayMaker/raw/master/NaninovelPlayMaker.unitypackage)
    - [NaninovelLive2D](https://github.com/Elringus/NaninovelLive2D/raw/master/NaninovelLive2D.unitypackage)
    - [AdventureCreator](https://github.com/Elringus/NaninovelAdventureCreator/raw/master/NaninovelAdventureCreator.unitypackage)
3. In case you've used `position` parameter in [character or background poses](/guide/characters.html#poses), reset it.
4. In case you've used `On Is Speaking Changed` Unity event of generic character behavior, re-setup the lip sync using newly added `On Started Speaking` and `On Finished Speaking` events.
5. Run upgrade script via `Naninovel -> Upgrade -> v1.9.8-beta to v1.10` editor menu to automatically perform required changes to the configuration assets.

Remember to keep `NaninovelData/Resources` folder and `NaninovelData/EditorResources.asset` file when updating the engine to preserve project configuration and asset references.

Be aware, that in-game saves (slots in save/load menu, values in settings menu and global game state) created with previous Naninovel versions could cause unexpected behavior when loaded with the updated version.

In case you're using Atom IDE extension, [check for updates](https://atom.io/packages/language-naniscript) to handle changes in the commands API. Should the extension fail to work after the update, try manually deleting the extension directory and installing it again; re-installing Atom itself could also resolve the issue.

## Added

- `@showUI` and `@hideUI` commands now have an optional `time` parameter to control duration of the animation.
- Added an option to create duplicates of the built-in UIs via `Create -> Naninovel -> Default UI -> ...` assets context menu.
- Added an option to choose between world and scene space when setting position in character and background poses editor.
- Added `set` parameter to `@camera` command allowing to explicitly enable/disable components (special effects).
- Added `Allow Addressable In Editor` property to resource provider configuration menu allowing to control whether to use addressable provider in editor (disabled by default).
- Added an option (enabled by default) to strip text formatting tags from printer backlog messages.
- Added default input actions for input system.
- Added PlayerPrefs serialization backend option (can be selected in state configuration menu).
- Added `reload` console command allowing to manually perform hot reload of the currently played naninovel script.
- Added an option to store choice summary in printer backlog (enabled by default). To disable the feature or change the formatting, use corresponding options in the printer backlog UI.
- It's now possible to assign multiple resources to custom character, text printer and choice handler implementations via editor menus.
- It's now possible to use commas in list command parameter values by escaping them; eg `@choice "Arrange" do:"@sfx Click, @arrange k.10\,y.55"`
- `@choice` command now support `gosub`  parameter allowing navigating to a sub-routine when picked.
- `@choice` command now support `do` parameter allowing to execute arbitrary commands when picked.

## Changed

- Removed obsolete "Define" item in visual editor's add line menu.
- Position in character and background poses editor is now specified in world units by default.
- Rotation in character and background poses editor is now specified in Euler angles instead of Quaternion.
- `On Is Speaking Changed` Unity event of generic character behavior has been replaced with `On Started Speaking` and `On Finished Speaking` events to allow more straightforward setups.
- `StateSlotManager` renamed to `IOStateSlotManager` to differentiate with the newly added PlayerPrefs serialization handler.

## Fixed

- Fixed `OnIsSpeakingChanged` event of generic characters not stopped correctly when using auto voicing, activating skip or continue inputs.
- Fixed `wait:false` ignored when playing commands in `Play Script` component.
- Fixed command skipping when picking a choice without a `goto` parameter assigned while the player is not stopped.
- Fixed nullref exception when using `@bgm` and `@sfx` without nameless parameters.
- Fixed wait for input activated two times when a generic text line ends with `[i]`.
- Fixed ruby text clipping wrapped words.
- Fixed nullref exception when specified type name in `reset` parameter of `@goto` and `@gosub` commands is not found.
- Fixed development console not disabled correctly when corresponding option is set in the configuration menu.
- Fixed `Generated Data Path` in engine configuration lost when opening Unity project on a different machine.
- Fixed hot reload not working when modified script is not added to the script resources manager.
