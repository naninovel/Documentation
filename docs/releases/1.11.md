# 1.11 Release Notes

Release date: Jun 2020

> [!CAUTION]
> **This release is out of support and won't receive any new features or bug fixes.** Consider upgrading to the latest stable or preview release as soon as possible. Note that supported (stable and preview) releases are not published on Unity's Asset Store; [register your license](https://naninovel.com/register) to access them.

## Compatibility

Supported Unity versions range: from `2019.3` to `2020.1`. Previous versions are not supported; compatibility issues with newer (major) versions will be addressed once they're out of beta.

Recommended Unity version: [Latest `2019.4` LTS release](https://unity3d.com/unity/qa/lts-releases?version=2019.4).

## Upgrade Guide

When importing the package to a project with Naninovel version `1.9.8-beta` or older first follow [v1.10 release](/releases/1.10) upgrade guide, then continue with the following instructions:

1. Remove `Naninovel` folder from the project before importing the updated package.
2. In case you're using extension packages, update them using following links:
    - [NaninovelPlayMaker](https://github.com/Elringus/NaninovelPlayMaker/raw/master/NaninovelPlayMaker.unitypackage)
    - [NaninovelLive2D](https://github.com/Elringus/NaninovelLive2D/raw/master/NaninovelLive2D.unitypackage)
    - [AdventureCreator](https://github.com/Elringus/NaninovelAdventureCreator/raw/master/NaninovelAdventureCreator.unitypackage)
3. In case using custom text printers, add continue input triggers to the new `Continue Input Triggers` list property.
4. In case using Naninovel's async API in custom scripts, resolve ambiguity of  `cancellationToken` arguments by removing `System.Threading` usage or specifying full name for the argument: `Naninovel.CancellationToken`; [example video](https://i.gyazo.com/b821b3572c442d450a7c09f838f4895a.mp4).

Remember to keep `NaninovelData/Resources` folder and `NaninovelData/EditorResources.asset` file when updating the engine to preserve project configuration and asset references.

Be aware, that in-game saves (slots in save/load menu, values in settings menu and global game state) created with previous versions could cause unexpected behavior when loaded with the updated version; when patching a shipped project with a new Naninovel version, make sure existing saves work as expected.

In case you're using Atom IDE extension, [check for updates](https://atom.io/packages/language-naniscript) to handle changes in the commands API. Should the extension fail to work after the update, try manually deleting the extension directory and installing it again; re-installing Atom itself could also resolve the issue.

## Added

- Added support for Unity 2020.1.
- Added `Animated` property to layered actor behavior component; when enabled, the actor will be rendered each frame allowing to animate the layers or implement other dynamic behavior.
- Added `Goto.DontReset` attribute; when applied to an engine service implementation, the service won't be reset by default while executing `@goto` command.
- Added support for [right to left (arabic)](/guide/text-printers.html#right-to-left-arabic-text) text reveal effect (TMPro printers only).
- Added `Font Change Configuration` property to the managed UI components, allowing to configure which text components should be affected by font and text size settings (set by player via in-game settings menu); it's also possible to specify font sizes for individual text elements.
- Added an [utility to generate metadata for custom commands](/guide/custom-commands.html#ide-metadata) allowing to support them in IDE extensions (eg, Atom).
- Added `play` parameter to `@choice` command, allowing to control whether the script should continue playing after the choice is picked when neither `goto` nor `gosub` parameters are specified (enabled by default).
- Added an [auto voice mode](/guide/voicing.html#auto-voice-mode) to associate voice clips by content instead of command playback spot.
- Added `only` parameter to `@resetState` command, allowing to reset only the provided services.
- Added `Complete On Continue` property to script player configuration, allowing to control whether to instantly complete blocking (`wait:true`) commands performed over time (eg, animations, hide/reveal, tint changes, etc) when `Continue` input is activated; enabled by default.
- It's now possible to rollback via backlog UI by clicking a button next to backlog message; the feature can be disabled via `Allow Rollback` property in backlog UI.
- It's now possible to disable replay voice feature in printer backlog UI via `Allow Replay Voice` property.
- It's now possible to mute/un-mute individual input samplers with `set` parameter of `@processInput` command; eg: `@processInput set:Rollback.false,Pause.false,Continue.true`.
- It's no longer required to restart the game when setting default font type or size in game settings menu.
- It's now possible to setup multiple continue input triggers for a text printer.
- It's now possible to [control voice volume of specific characters](/guide/voicing.html#author-volume).
- It's now possible to [override built-in commands](/guide/custom-commands.html#overriding-built-in-command).
- Improved `@resetState` command performance when a service filter is used.

## Changed

- Blocking (`wait:true`) commands performed over time (eg, animations, hide/reveal, tint changes, etc) are now instantly completed when `Continue` input is activated; can be disabled in script player configuration via `Complete On Continue` property.
- Changed type of `cancellationToken` arguments used in async Naninovel's API from `System.Threading.CancellationToken` to `Naninovel.CancellationToken`.
- Anchor for `ButtonArea` built-in choice handler content is now centered to prevent buttons from moving when changing display aspect ratio.
- Script will now automatically continue playing by default when `do` parameter is assigned in `@choice` command, unless `play` parameter is set to false.
- Text font size (in game settings menu) is now a dropdown instead of slider.
- Text font and size (in game settings menu) no longer affect all the text elements by default; individual text elements of the UI (including custom UIs), that should be affected by the setting can now be specified via `Font Change Configuration` property.
- `Continue Input Trigger` property of text printers has been replaced with `Continue Input Triggers` (list) to allow adding multiple objects.
- Chat text printer no longer reset by default (only affect new projects).
- Changed unloaded resource object field visual style to be more similar to normal object field.
- Third party NCalc library has been updated to the latest version.

## Fixed

- Fixed layered actors sometimes not rendered properly when scaled.
- Fixed some resources unloaded while being used.
- Fixed bubble printers have incorrect position when display aspect ratio changes.
- Fixed `reset` parameter of `@goto` command not working with types outside of "Naninovel" namespace.
- Fixed `@resetState` command not resetting `ICustomVariableManager` service when no parameters are specified.
- Fixed built-in TMPro printers using incorrect font shader for author name text labels.
- Fixed author avatar images inside TMPro printers failing to crossfade correctly.
- Fixed camera rotation over negative values.
- Fixed some text printer and choice handler resources not disposed correctly.
- Fixed default voice volume property in audio config ignored when starting a new game.
- Fixed missing ref exception sometimes throwing in editor when closing script graph window.
- Fixed skippable wait timer (eg, `@wait i3`) not behaving correctly when used before or after a generic text line.
- Fixed script localization failing when localized lines with equal content exist.
- Fixed backlog messages ignoring authors when using chat printer.
